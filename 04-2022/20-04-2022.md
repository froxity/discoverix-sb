# Log #20-04-2022 DSB

> Date: 20 April 2022  
> Author: Ahmad Afiq Azmi

---

<br>

## What I Learn üìö

1. Docker and Container
   - Install at different OS system (Windows & Linux)
   - Understand what is container
   - Differentiate docker and image
   - Install docker and build simple Node.js app
   - Understand layer of docker build
     - `docker build .`
   - Run the docker
     - `docker run -p <ourport>:<app-port> <key>`
   - Check docker process
     - `docker ps -a`
   - Stop docker process
     - `docker stop <docker-name>`

<br>

## What I Do üíª

1. Create command for maintaining Ngninx Server for Docker
2. Learn pipe, tee, xargs
3. Apply command substitution `$()`

<div class="alert alert-info" role="alert">
    üìù <b>INFO:</b>
    <br>
    <p>It turns out, $() is called a command substitution. The command in between $() or backticks (‚Äú) is run and the output replaces $() .</p>
    <p>It can also be described as executing a command inside of another command.</p>
</div>

1. Apply command to:
   - empty out files `echo -n "" <file>`
     - meaning to empty out will null value
   - change file permission to mode 755 `chmod -R 755`
   - Compile all file based on timestamp on file name using find and glob using find or ls
     - `sudo tar -cvf <todaytimestamp-month>_backup.tar $(ls 202202*_access.log)`
     - `find . -name "202202*_access.log" | xargs tar -cv | xz -9 -T0 > archive.tar.xz`
   - To extract the tar file
     - `tar -xf <filename>.tar.xz`
   - Remove archived tar file except N latest "timestamp_filename" `ls -F *<filename>.tar | head -n -2 | xargs -r rm`
   - remove file older than N days
     - `find /home/appuser/db_dump/ -mtime +7 -name '*.tar.bz2' -ls -exec rm {} \;`
     - `find /home/ appuser/db_dump/ -mtime +7 -name '*.tar.bz2' -ls`

<div class="alert alert-warning" role="alert">
    ‚ö† <b>REMINDER:</b>
    <br>
    <p>Be careful removing files with find. Run the commmand -ls before removing the files to check what you are removing first.</p>
</div>

<br>

## Problem Encountered and Solution üêû

| Problem | Solution | Note |
| ------- | -------- | ---- |
|         |          |      |

Note: Nothing happens much or gettings problems
